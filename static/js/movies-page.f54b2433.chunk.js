(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[3],{50:function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"e",(function(){return m})),r.d(t,"c",(function(){return f})),r.d(t,"b",(function(){return v})),r.d(t,"d",(function(){return h}));var n=r(52),a=r.n(n),c=r(54),o="https://api.themoviedb.org/3",i="286571d6f6f7efdc7929d8780c16da79";function s(){return u.apply(this,arguments)}function u(){return u=Object(c.a)(a.a.mark((function e(){var t,r,n,c=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"",r=c.length>1&&void 0!==c[1]?c[1]:{},e.next=4,fetch(t,r);case 4:if(!(n=e.sent).ok){e.next=11;break}return e.next=8,n.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=Promise.reject(new Error("Not found"));case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return s("".concat(o,"/trending/movie/day?api_key=").concat(i,"&page=").concat(e))}function m(e){return s("".concat(o,"/search/movie?api_key=").concat(i,"&query=").concat(e,"&language=en-US&include_adult=false"))}function f(e){return s("".concat(o,"/movie/").concat(e,"?api_key=").concat(i))}function v(e){return s("".concat(o,"/movie/").concat(e,"/credits?api_key=").concat(i))}function h(e){return s("".concat(o,"/movie/").concat(e,"/reviews?api_key=").concat(i))}},55:function(e,t,r){"use strict";t.a=r.p+"static/media/error.78599aa1.jpg"},56:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(57),a=r.n(n),c=r(3),o=r(10),i=r(55),s=r(1);function u(e){var t=e.movies,r=0!==t.length,n=Object(c.g)();return Object(s.jsx)("ul",{className:a.a.movieGallery,children:r&&t.map((function(e){return Object(s.jsx)("li",{className:a.a.movieGalleryItem,children:Object(s.jsxs)(o.b,{to:{pathname:"movies/".concat(e.id),state:{from:n}},children:[Object(s.jsx)("img",{className:a.a.movieGalleryItemImage,src:e.poster_path?"https://image.tmdb.org/t/p/w500/".concat(e.poster_path):i.a,alt:e.title}),Object(s.jsx)("p",{className:a.a.movieTitle,children:e.title})]})},e.id)}))})}},57:function(e,t,r){e.exports={movieGallery:"MoviesList_movieGallery__1RkJ4",movieGalleryItem:"MoviesList_movieGalleryItem__2NNvg",movieGalleryItemImage:"MoviesList_movieGalleryItemImage__AA-az",title:"MoviesList_title__3tb8k",movieTitle:"MoviesList_movieTitle__3U8TI"}},61:function(e,t,r){e.exports={searchForm:"SearchBar_searchForm__296fG",searchFormInput:"SearchBar_searchFormInput__1Gmkj"}},65:function(e,t,r){e.exports={wrapper:"ErrorView_wrapper__2CZKs",text:"ErrorView_text__1PbaT",errorImg:"ErrorView_errorImg__nrkbz"}},75:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return F}));var n=r(51),a=r(0),c=r(3),o=r(71),i=r(72),s=(r(60),r(61)),u=r.n(s),l=r(1);function m(e){var t=e.onSubmit,r=e.query,n=e.changeQuery,a=Object(c.f)(),s=Object(c.g)();return Object(l.jsx)("form",{className:u.a.searchForm,onSubmit:function(e){if(e.preventDefault(),""===r.trim())return i.a.error("Please enter some value");a.push(Object(o.a)(Object(o.a)({},s),{},{search:"query=".concat(r)})),t(r)},children:Object(l.jsx)("input",{className:u.a.searchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies ...",value:r,onChange:function(e){n(e.currentTarget.value)}})})}var f=r(50),v=r(62),h=r(63),j=r(73),p=r(70),b=r(14),d=r.n(b),g=(r(64),function(e){Object(j.a)(r,e);var t=Object(p.a)(r);function r(){return Object(v.a)(this,r),t.apply(this,arguments)}return Object(h.a)(r,[{key:"render",value:function(){return Object(l.jsx)(d.a,{type:"TailSpin",color:"#00BFFF",height:80,width:80})}}]),r}(a.Component)),_=r(55),O=r(65),x=r.n(O);function y(e){var t=e.message;return Object(l.jsxs)("div",{role:"alert",className:x.a.wrapper,children:[Object(l.jsx)("img",{src:_.a,width:"500",alt:"Error",className:x.a.errorImg}),Object(l.jsx)("p",{className:x.a.text,children:t})]})}var w=r(56),k="idle",I="pending",N="resolved",S="rejected";function F(){var e=Object(a.useState)([]),t=Object(n.a)(e,2),r=t[0],o=t[1],i=Object(a.useState)(""),s=Object(n.a)(i,2),u=s[0],v=s[1],h=Object(a.useState)(null),j=Object(n.a)(h,2),p=j[0],b=j[1],d=Object(a.useState)(k),_=Object(n.a)(d,2),O=_[0],x=_[1],F=Object(c.g)();Object(a.useEffect)((function(){var e=new URLSearchParams(F.search).get("query");e&&f.e(e).then((function(t){var r=t.results;if(0===r.length)return b("No results were found for ".concat(e,"!")),void x(S);v(e),o(r),x(N)})).catch((function(e){b(e),x(S)}))}),[F.search]);var G=0!==r.length;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(m,{onSubmit:function(e){u!==e&&u&&(x(I),f.e(u).then((function(e){var t=e.results;if(0===t.length)return b("No results were found for ".concat(u,"!")),void x(S);o(t),x(N)})).catch((function(e){b(e),x(S)})),v(e),b(null),x(k))},query:u,changeQuery:v}),O===I&&Object(l.jsx)(g,{}),O===S&&Object(l.jsx)(y,{message:p}),O===N&&G&&Object(l.jsx)(w.a,{movies:r})]})}}}]);
//# sourceMappingURL=movies-page.f54b2433.chunk.js.map