(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[3],{52:function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"e",(function(){return m})),r.d(t,"c",(function(){return h})),r.d(t,"b",(function(){return f})),r.d(t,"d",(function(){return j}));var a=r(55),n=r.n(a),c=r(57),o="https://api.themoviedb.org/3",i="286571d6f6f7efdc7929d8780c16da79";function s(){return u.apply(this,arguments)}function u(){return u=Object(c.a)(n.a.mark((function e(){var t,r,a,c=arguments;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"",r=c.length>1&&void 0!==c[1]?c[1]:{},e.next=4,fetch(t,r);case 4:if(!(a=e.sent).ok){e.next=11;break}return e.next=8,a.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=Promise.reject(new Error("Not found"));case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return s("".concat(o,"/trending/movie/day?api_key=").concat(i,"&page=").concat(e))}function m(e){return s("".concat(o,"/search/movie?api_key=").concat(i,"&query=").concat(e,"&language=en-US&include_adult=false"))}function h(e){return s("".concat(o,"/movie/").concat(e,"?api_key=").concat(i))}function f(e){return s("".concat(o,"/movie/").concat(e,"/credits?api_key=").concat(i))}function j(e){return s("".concat(o,"/movie/").concat(e,"/reviews?api_key=").concat(i))}},54:function(e,t,r){"use strict";t.a=r.p+"static/media/error.3edb5deb.jpg"},58:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var a=r(59),n=r.n(a),c=r(3),o=r(10),i=r(54),s=r(1);function u(e){var t=e.movies,r=0!==t.length,a=Object(c.g)();return Object(s.jsx)("ul",{className:n.a.movieGallery,children:r&&t.map((function(e){return Object(s.jsx)("li",{className:n.a.movieGalleryItem,children:Object(s.jsxs)(o.b,{to:{pathname:"movies/".concat(e.id),state:{from:a}},children:[Object(s.jsx)("img",{className:n.a.movieGalleryItemImage,src:e.poster_path?"https://image.tmdb.org/t/p/w500/".concat(e.poster_path):i.a,alt:e.title}),Object(s.jsx)("p",{className:n.a.movieTitle,children:e.title})]})},e.id)}))})}},59:function(e,t,r){e.exports={movieGallery:"MoviesList_movieGallery__1RkJ4",movieGalleryItem:"MoviesList_movieGalleryItem__2NNvg",movieGalleryItemImage:"MoviesList_movieGalleryItemImage__AA-az",title:"MoviesList_title__3tb8k",movieTitle:"MoviesList_movieTitle__3U8TI"}},62:function(e,t,r){e.exports={searchForm:"SearchBar_searchForm__296fG",searchFormButton:"SearchBar_searchFormButton__2j6W_",searchFormButtonLabel:"SearchBar_searchFormButtonLabel__2RckO",searchFormInput:"SearchBar_searchFormInput__1Gmkj"}},66:function(e,t,r){e.exports={wrapper:"ErrorView_wrapper__2CZKs",text:"ErrorView_text__1PbaT",errorImg:"ErrorView_errorImg__nrkbz"}},77:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return S}));var a=r(53),n=r(0),c=r(3),o=r(72),i=r(73),s=(r(61),r(62)),u=r.n(s),l=r(1);function m(e){var t=e.onSubmit,r=e.query,a=e.changeQuery,n=Object(c.f)(),s=Object(c.g)();return Object(l.jsxs)("form",{className:u.a.searchForm,onSubmit:function(e){if(e.preventDefault(),""===r.trim())return i.a.error("Please enter some value");n.push(Object(o.a)(Object(o.a)({},s),{},{search:"query=".concat(r)})),t(r)},children:[Object(l.jsx)("button",{type:"submit",className:u.a.searchFormButton,children:Object(l.jsx)("span",{className:u.a.searchFormButtonLabel,children:"Search"})}),Object(l.jsx)("input",{className:u.a.searchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies ...",value:r,onChange:function(e){a(e.currentTarget.value)}})]})}var h=r(52),f=r(63),j=r(64),b=r(74),v=r(71),p=r(14),d=r.n(p),_=(r(65),function(e){Object(b.a)(r,e);var t=Object(v.a)(r);function r(){return Object(f.a)(this,r),t.apply(this,arguments)}return Object(j.a)(r,[{key:"render",value:function(){return Object(l.jsx)(d.a,{type:"TailSpin",color:"#00BFFF",height:80,width:80})}}]),r}(n.Component)),g=r(54),O=r(66),x=r.n(O);function y(e){var t=e.message;return Object(l.jsxs)("div",{role:"alert",className:x.a.wrapper,children:[Object(l.jsx)("img",{src:g.a,width:"500",alt:"Error",className:x.a.errorImg}),Object(l.jsx)("p",{className:x.a.text,children:t})]})}var w=r(58),k="idle",F="pending",I="resolved",N="rejected";function S(){var e=Object(n.useState)([]),t=Object(a.a)(e,2),r=t[0],o=t[1],i=Object(n.useState)(""),s=Object(a.a)(i,2),u=s[0],f=s[1],j=Object(n.useState)(null),b=Object(a.a)(j,2),v=b[0],p=b[1],d=Object(n.useState)(k),g=Object(a.a)(d,2),O=g[0],x=g[1],S=Object(c.g)();Object(n.useEffect)((function(){var e=new URLSearchParams(S.search).get("query");e&&h.e(e).then((function(t){var r=t.results;if(0===r.length)return p("No results were found for ".concat(e,"!")),void x(N);f(e),o(r),x(I)})).catch((function(e){p(e),x(N)}))}),[S.search]);var B=0!==r.length;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(m,{onSubmit:function(e){u!==e&&u&&(x(F),h.e(u).then((function(e){var t=e.results;if(0===t.length)return p("No results were found for ".concat(u,"!")),void x(N);o(t),x(I)})).catch((function(e){p(e),x(N)})),f(e),p(null),x(k))},query:u,changeQuery:f}),O===F&&Object(l.jsx)(_,{}),O===N&&Object(l.jsx)(y,{message:v}),O===I&&B&&Object(l.jsx)(w.a,{movies:r})]})}}}]);
//# sourceMappingURL=movies-page.ab86e0fd.chunk.js.map